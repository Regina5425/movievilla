var t=function(){const t=document.querySelector(".btn-subs"),e=document.querySelector(".modal-subs"),s=document.querySelector('[data-subs="close"]'),o=document.querySelector(".modal-subs__form"),n=document.querySelector(".modal-subs__mail");function d(){e.classList.add("modal-subs__show"),e.classList.remove("modal-subs__hide"),document.body.style.overflow="hidden"}function c(){e.classList.add("modal-subs__hide"),e.classList.remove("modal-subs__show"),document.body.style.overflow=""}const a="Спасибо за подписку!",l="Что-то пошло не так...";function i(t){const e=document.querySelector(".modal-subs-wrapper");d();const s=document.createElement("div");s.innerHTML=`\n\t\t\t\t<div class="modal-subs-content">\n\t\t\t\t\t<div data-subs="close" class="modal-subs__close">&times;</div>\n\t\t\t\t\t<div class="modal-subs__title">${t}</div>\n\t\t\t\t</div>\n\t\t\t`,e.append(s),e.addEventListener("click",(()=>{s.remove()}))}t.addEventListener("click",d),s.addEventListener("click",c),e.addEventListener("click",(t=>{t.target===e&&c()})),o.addEventListener("submit",(t=>{t.preventDefault();const e={email:n.value};n.validity.typeMismatch||""===n.value?function(t){const e=document.createElement("p");e.classList.add("modal-subs__error"),e.textContent="*Неверный формат заполнения",o.append(e),t.addEventListener("input",(()=>{e.remove()}))}(n):async function(){try{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}),s=await t.json();console.log(s),i(a)}catch{throw i(l),new Error("Ошибка отправки формы подписки!")}finally{o.reset()}}()}))};document.addEventListener("DOMContentLoaded",(()=>{t()}));
//# sourceMappingURL=index-subs.8c86846b.js.map
